<!DOCTYPE html>
<html>
    <head>
        <title>CoDI</title>
        <script>window.$ = window.jQuery = require('../js/jquery-1.11.3.min.js');</script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
        <script src="../js/vex.combined.min.js"></script>
        <script>vex.defaultOptions.className = 'vex-theme-os';</script>
        <link rel="stylesheet" href="../css/vex.css" />
        <link rel="stylesheet" href="../css/vex-theme-os.css" />
        <link rel="stylesheet" href="../css/theme.css"/>

        <script src="../js/script.js"></script>
        <style>
            #container {
                margin: 0px auto;
                width: 500px;
                height: 375px;
                border: 10px #333 solid;
            }
            #videoElement {
                width: 500px;
                height: 375px;
                background-color: #666;
            }
        </style>
    </head>
    <body onload="listPills()">
        <div class="container">
            <h1 id="mainTitle">CoDI</h1>

            <div class="col-sm-4">
                <div id="pillSelection">
                    <h4>Select a pill</h4>
                    <ul id="pillList">
                    </ul>

                    <button class="btn btn-default" type="button" onclick="newPill()">Create new pill</button>
                </div>
                <div id="calibrate">
                    <h4>Calibrating</h4>
                </div>
                <div id="analyze">
                    <h4>Analyzing</h4>
                </div>
            </div>
            <div class="col-sm-8">
                <h4>Camera</h4>
                <video id="videoElement">
                </video>
                <script>
                    var video = document.querySelector("#videoElement");

                    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;

                    if (navigator.getUserMedia) {       
                        navigator.getUserMedia({video: true}, handleVideo, videoError);
                    }

                    function handleVideo(stream) {
                        video.src = window.URL.createObjectURL(stream);
                    }

                    function videoError(e) {
                        // do something
                    }
                </script>
            </div>
        </div>
    </body>
</html>
